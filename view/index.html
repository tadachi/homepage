<!DOCTYPE html>
<html lang='en' ng-app='app'>
    <head>
        <meta content='text/html; charset=utf-8' http-equiv='content-type'>
        <title>Takumi Adachi's Homepage</title>
        <link rel='stylesheet' href='/css/main.css'>
        <link rel='stylesheet' href='/css/crocodoc.viewer.min.css'>
        <!--load JQuery before Angular-->
        <script src='js/jquery-2.1.1.min.js'></script>
        <script src='js/pdfjs-1.0.68-dist/build/pdf.js'></script>

        <!-- Angularjs -->
<!--         <script src='js/angular.1.3.0b11.js'></script> -->

<script>
//     var app = angular.module('app', []);

    function calcResolutions() {
        var offset = 25; //Height for our header and footer
        var heightOffset = 50;

        var currWinWidth = $(window).width();
        var currWinHeight = $(window).height();

        var containerWidth = (.54 * currWinWidth); //.54 is a % of the max width of $(window) or browserwidth.
        var containerHeight = (currWinHeight - heightOffset);

        var headerPanelWidth = Math.floor(.40 * currWinWidth);
        var headerPanelHeight = Math.floor(offset);

        var headerLeftPanelWidth = Math.floor(.07 * currWinWidth)
        var headerLeftPanelHeight = Math.floor(offset)

        var headerRightPanelWidth = Math.floor(.07 * currWinWidth)
        var headerRightPanelHeight = Math.floor(offset)

        var leftPanelWidth = Math.floor(0.07 * currWinWidth); // divide the left, right, center panel width between the max window width.
        var leftPanelHeight = Math.floor(currWinHeight - offset*2 - heightOffset);

        var rightPanelWidth = Math.floor(0.07 * currWinWidth);
        var rightPanelHeight = Math.floor(currWinHeight - offset*2 - heightOffset);

        var centerPanelWidth = Math.floor(0.40 * currWinWidth);
        var centerPanelHeight = Math.floor(currWinHeight - offset*2 - heightOffset);

        var footerPanelWidth = Math.floor(.54 * currWinWidth);
        var footerPanelHeight = Math.floor(offset);

        return {
                containerW: containerWidth, containerH: containerHeight,
                headerW: headerPanelWidth, headerH: headerPanelHeight,
                headerLeftW: headerLeftPanelWidth, headerLeftH: headerLeftPanelHeight,
                headerRightW: headerRightPanelWidth, headerRightH: headerRightPanelHeight,
                footerW: footerPanelWidth, footerH: footerPanelHeight,
                leftW: leftPanelWidth, leftH: leftPanelHeight,
                rightW: rightPanelWidth, rightH: rightPanelHeight,
                centerW: centerPanelWidth, centerH: centerPanelHeight
                };
    }

    function applyResolutions() {
        res = calcResolutions();

        $('#container').css('width', res.containerW);
        $('#container').css('height', res.containerH);

        $('#header').css('width',res.headerW);
        $('#header').css('height',res.headerH);

        $('#headerleft').css('width',res.headerLeftW);
        $('#headerleft').css('height',res.headerLeftH);

        $('#headerright').css('width',res.headerRightW);
        $('#headerright').css('height',res.headerRightH);

        $('#left').css('width', res.leftW);
        $('#left').css('height', res.leftH);
        $('#left li').css('width', res.leftW-10);

        $('#right').css('width', res.rightW);
        $('#right').css('height', res.rightH);

        $('#center').css('width', res.centerW);
        $('#center').css('height', res.centerH);

        $('#footer').css('width', res.footerW);
        $('#footer').css('height', res.footerH);
    }

    $( document ).ready(function() {
//         applyResolutions();

        /* Default page to load. */
        $( "#info" ).load("res/about.htm");
        window.location = "#about";

    });
/*
 * Shows if the website is online or not. *WIP
 */
//     app.directive('isOnline', function() {
//         return {
//             $scope: {
//                 value: '=',
//                 href: '=',
//                 link: '@',
//             },
//             restrict: 'AEC',
// //             controller: function($scope, $element){
// //                 $scope.value = 'pinging...';
// //                 $scope.href = $element.attr('link');
// //                 console.log($element.attr('link'));
// //             },
//             cache: false,
//             link: function($scope, $element) {
//                 $scope.value = 'pinging...';
//                 $scope.href = $element.attr('link');

//                 var url = $element.attr('link');
//                 //var url = 'http://whateverorigin.org/get?url=' + encodeURIComponent($element.attr('link')) + '&callback=?';
//                 //var url = 'http://whateverorigin.org/get?url=' + encodeURIComponent($element.attr('link')) + '&callback=?';
// //                 $.getJSON(url, function(data){
// //                     console.log(data);
// //                 });
//                 $.ajax({
//                     url: $element.attr('link'),
//                     timeout: 1000,
//                     dataType: 'json',
//                     statusCode: {
//                         200: function() {
//                             console.log('200');
//                             $scope.$apply(function() {
//                                 $scope.value = '200';
//                             });
//                         },
//                         404: function() {
//                             console.log('400');
//                             $scope.$apply(function() {
//                                 $scope.value = 'loading';
//                             });
//                         },
//                         500: function() {
//                             console.log('500');
//                             $scope.$apply(function() {
//                                 $scope.value = '500';
//                             });
//                         },
//                         503: function() {
//                             console.log('503');
//                             $scope.$apply(function() {
//                                 $scope.value = '500';
//                             });
//                         }
//                     }
//                 }).done(function(data) {
//                     console.log(url);
//                     console.log(data);
//                 }).fail(function(data) {
//                     console.log(url);
//                     console.log(data);
//                 })

//             }
//         };
//     });

    'use strict';

    PDFJS.workerSrc = 'js/pdfjs-1.0.68-dist/build/pdf.worker.js';



</script>

    </head>
    <body>
        <div id='container'>
    </body>
</html>
